# データの参照範囲について

本アプリにおいて、データの参照範囲は大きく5つに分けられる。
ここではその参照範囲についてを解説する

## 参照範囲

### システムスコープ

|                | 変更 | 参照 |
|----------------|-----|-----|
| Bot管理者       |  ○  |  ○  |
| サーバー管理者   |  ×  |  ×  |
| サーバー参加者   |  ×  |  ×  |
| 別サーバー管理者 |  ×  |  ×  |

システムの根幹に係わる情報。
具体的にはBotのトークンやデータベース接続情報に該当する。
これらの値はBot管理者のみ参照・変更ができれば良いため、環境変数、.envファイルなどに定義する。

### グローバルスコープ

|                | 変更 | 参照 |
|----------------|-----|-----|
| Bot管理者       |  ○  |  ○  |
| サーバー管理者   |  ×  |  ○  |
| サーバー参加者   |  ×  |  ○  |
| 別サーバー管理者 |  ×  |  ○  |

全サーバー共通で使う情報。
イベントなどサーバーに関係なく全員が参照すべきデータ。
スプレッドシートで管理し、基本的に全員参照は可能、編集はBot管理者が行う。
参照が可能であるのは他サーバーから要望を受けたりする可能性もあるためである。

### サーバースコープ

|                | 変更 | 参照 |
|----------------|-----|-----|
| Bot管理者       |  ×  |  △  |
| サーバー管理者   |  ○  |  ○  |
| サーバー参加者   |  ×  |  ○  |
| 別サーバー管理者 |  ×  |  ×  |

各サーバーごとに扱う情報。
サーバー独自のイベントだったり、グローバルスコープのデータを上書き（例えばメッセージを上書きしたりなど）のデータ。
テーブルでいう「guild_xxxxx」という名前のテーブルは全てこれに該当する。
基本はサーバーの人のみ見られる方針ではあるが、トラブル発生時に必要な情報を閲覧する必要がある場合のみ、サーバー管理者許可のもとBot管理者が閲覧を行う場合がある。
